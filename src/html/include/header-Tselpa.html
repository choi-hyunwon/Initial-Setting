<!--header-->
<div class="header_bg">
  <header class="header gate">
    <h1><a href="#">T셀파</a></h1>
    <div class="util-line clearfix">
      <span class="util-link">
        <a href="#" class="dark">T셀파 메인</a>
        <div class="anther_site">
          <a href="#" class="on_site">유치</a>
          <div class="anther_site_list">
            <a href="#" class="new">유치</a>
            <a href="#" class="new">초등</a>
            <a href="#">초등</a>
            <a href="#">중학</a>
            <a href="#">고등</a>
          </div>
          <script>
            $('.on_site').on('click',function(){
                if(!$(this).hasClass('active')){
                    $(this).addClass('active');
                    $('.anther_site_list').slideDown(50);
                }else {
                    $(this).removeClass('active');
                    $('.anther_site_list').slideUp(50);
                }
            })
            $('html').click(function(e){
                if(!$(e.target).hasClass('active')){
                    $('.on_site').removeClass('active');
                    $('.anther_site_list').slideUp(50);
                }
            })
          </script>
        </div>
        <a href="#">T셀파몰</a>
        <a href="#">연수원</a>
        <a href="#">즐겨찾기 추가</a>
      </span>
            <span class="util-member">
        <a href="#"><u>로그인</u></a>
        <a href="#">MY T셀파</a>
        <a href="#">고객센터</a>
        <a href="#">이벤트</a>
      </span>
        </div>
    <a href="http://textbook.tsherpa.co.kr/main/main.aspx" class="home_area">
      <p class="text-right home_text"><span>2015개정 교육과정</span><br>천재교육의 다양한 교과서 바로가기</p>
    </a>
    <a href="http://textbook.tsherpa.co.kr/main/main.aspx" class="gate_btns icon icon-home-gate">
    </a>
  </header>

</div>
<!--header-->


<script>
  /* GNB script */
  $(document).ready(function(){
    $('.gnb>li>a').on('click',function(){
      $('.gnb>li>a').parents('body').addClass('_body_scroll')
      if(!$(this).hasClass('clicked')){
        $('.gnb>li').find('.sub-menu').hide();
        $('.gnb>li a').removeClass('clicked');
        $('.gnb>li a').removeClass('active');
        $(this).addClass('clicked');
        $(this).addClass('active');
        $(this).siblings('.sub-menu').slideDown(100);

        let sub_content = $(this).parent().find('.sub-menu-content').height();
        let sub_img = 290;
        let sub_img2 = $(this).parent().find('.sub-menu-img-type02').height();
        let gnb_height = "";

        if (sub_content >= sub_img) {
          gnb_height = $(this).parent().find('.sub-menu-content').height();
        }else if(sub_content <= sub_img){
          gnb_height = sub_img;
        }else if($(this).parent().find('.sub-menu-content').height() <= $(this).parent().find('.sub-menu-img-type02').height()){
          gnb_height = $(this).parent().find('.sub-menu-img-type02').height();
        }else if($(this).parent().find('.sub-menu-content').height() >= $(this).parent().find('.sub-menu-img-type02').height()){
          gnb_height = $(this).parent().find('.sub-menu-content').height();
        }


        gnb_height = gnb_height + 50;
        $('.submenu-bg').css('height', gnb_height);
        $('.submenu-bg').slideDown(100);
        $('.submenu-bg_dmimd').remove();
        $('.header_bg').append('<div class="submenu-bg_dmimd"></div>');

      }else if($(this).hasClass('clicked')){
        $('.gnb>li a').removeClass('clicked');
        $('.gnb>li>a').removeClass('active');
        $(this).siblings('.sub-menu').hide();
        $('.submenu-bg').slideUp(100);
        $('.submenu-bg_dmimd').remove();
      }

    });

    $('.btn_close_menu').on('click',function() {
      $('.btn_close_menu').parents('body').removeClass('_body_scroll')
      $('.gnb li').removeClass('clicked');
      $('.gnb li a').removeClass('active');
      $('.gnb li .sub-menu').slideUp(100);
      $('.submenu-bg').stop().slideUp(100);
      $('.submenu-bg_dmimd').remove();
    });



    $('.btn_allMenu').on("click",function (){
      $('.gnb_sitemap').slideDown(100).addClass('show')
      $('.btn_allMenu').parents('body').addClass('_body_scroll')
    })
    $('.site_map_close').on("click",function (){
      $('.gnb_sitemap').slideUp(100).removeClass('show')
      $('.btn_allMenu').parents('body').removeClass('_body_scroll')
    })


    $('.btn_search').on("click",function (){
      $('.btn_search').parents('body').addClass('_body_scroll')
      $('.gnb_search_wrap').slideDown(100).addClass('show')
      $('.gnb_search_wrap').append('<div class="submenu-bg_dmimd"></div>');
    })
    $('.btn_search_close').on("click",function (){
      $('.btn_search_close').parents('body').removeClass('_body_scroll')
      $('.gnb_search_wrap').slideUp(100).removeClass('show')
      $('.submenu-bg_dmimd').remove();
    })

    // x버튼 클릭시 text 사라짐
    $('.search_remove').on('click', function () {
      $('#searchtext').val('')
    });

    //사이트맵 스크롤커스텀
    $('._scroll_sitemap').mCustomScrollbar({
      scrollButtons: { enable: false },
      theme: 'dark',
      autoHideScrollbar: true
    });

  });
</script>
