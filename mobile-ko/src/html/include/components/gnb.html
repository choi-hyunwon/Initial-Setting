<div class="modal gnb" tabindex="-1" id="gnb" data-bs-backdrop="static" aria-labelledby="modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="gnb-content">
            <div class="gnb-header">
                <h2 class="logo"><a href="#">마크로젠 로고</a></h2>
                <a href="#" class="btn-close-black" data-bs-dismiss="modal" aria-label="Close"><span class="sr-only">닫기</span></a>
            </div>
            <div class="gnb-body" id="menu">
                <ul>
                    <li><a href="#none">MACROGEN</a>
                        <ul>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                            <li><a href="#none">- 2Depth</a></li>
                            <li><a href="#none">- 2Depth</a></li>
                        </ul>
                    </li>
                    <li><a href="#none">R&D</a>
                        <ul>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="#none">NEWSROOM</a>
                        <ul>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="#none">IR</a>
                        <ul>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="#none">ESG</a>
                        <ul>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                            <li><a href="#none">- 2Depth</a>
                                <ul>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                    <li><a href="#none">- 3Depth</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="gnb-footer">
                <a href="#" class="btn-lang on">K0R</a>
                <a href="#" class="btn-lang">ENG</a>
            </div>
            </div>
        </div>
    </div>
</div>
<script>
    // gnb show
    var gnbEl = document.getElementById('gnb')
    var gnb = new bootstrap.Modal(gnbEl);

    // gnb.show();

    // gnb menu
    (function ($) {
        var gnbSet = {
            click: function (target, speed) {
                var _self = this, $target = $(target);
                _self.speed = speed || 300;
                $target.each(function () {
                    if (findChildren($(this))) {
                        return;
                    }
                    $(this).addClass('noDepth');
                });

                function findChildren(obj) {
                    return obj.find('> ul').length > 0;
                }

                $target.on('click', 'a', function (e) {
                    e.stopPropagation();
                    var $this = $(this), $depthTarget = $this.next(), $siblings = $this.parent().siblings();
                    $this.parent('li').find('ul li').removeClass('on');
                    $siblings.removeClass('on');
                    $siblings.find('ul').slideUp(250);
                    if ($depthTarget.css('display') == 'none') {
                        _self.activeOn($this);
                        $depthTarget.slideDown(_self.speed);
                    } else {
                        $depthTarget.slideUp(_self.speed);
                        _self.activeOff($this);
                    }
                })
            }, activeOff: function ($target) {
                $target.parent().removeClass('on');
            }, activeOn: function ($target) {
                $target.parent().addClass('on');
            }
        };
        $(function () {
            gnbSet.click('#menu li', 300)
        });
    }(jQuery));

    // btn-lang
    $('.btn-lang').on('click',function (){
        $(this).addClass('on').siblings().removeClass('on')
    })
</script>
